<ngx-json-ld [json]="schema"></ngx-json-ld>
<div class="container">
  <div class="row">
    <div class="col">
      <ng-container *ngIf="urlTownParameter then townCase else nextCase">
      </ng-container>

      <!-- this template called if urlTownParameter exists -->
      <ng-template #townCase> 
        <br>
        <h3 style="text-align: center">{{countyData.countyName | uppercase}}</h3>
        <h1 style="text-align: center">Oil Tank Installation in {{townName | titlecase}} </h1> 
        <h4>As the oil tank installation specialists in and around {{townName}}, the team at SmartNow are perfectly placed to assist with installing your new tank. Our friendly team can assist you over the phone or email, or we can visit you at home to ensure you get the best possible service.</h4>
      </ng-template>

      <!-- this template called if urlTownParameter does not exist -->
      <ng-template #nextCase>
        <ng-container *ngIf="urlCountyParameter then countyCase else noLocationCase">
        </ng-container>
      </ng-template>
      
      <ng-template #countyCase> 
        <br>
        <h1 style="text-align: center">Oil Tank Installation in {{countyData.countyName | titlecase}}</h1>
        <h4>As the oil tank installation specialists in {{countyData.countyName | titlecase}}, the team at SmartNow are perfectly placed to assist with installing your new tank. Our friendly team can assist you over the phone or email, or we can visit you at home to ensure you get the best possible service.</h4>
      </ng-template>

      <ng-template #noLocationCase> 
        <h1 style="text-align: center">Local Oil Tank Installation</h1> 
        <h4>As the oil tank installation specialists in the UK, the team at SmartNow are perfectly placed to assist with installing your new tank. Our friendly team can assist you over the phone or email, or we can visit you at home to ensure you get the best possible service.</h4>
      </ng-template>
    </div>
  </div>



  <div class="row">

    <!-- Prodleft: contacts contact us details card -->
    <div class="col-md-4 col-sm-12">
      <!-- contact us details card -->

        <h2>Find an Oil Tank Installer</h2>
        <h4>
          Coming soon - a seamless way to find a reputable local installer
        </h4>
          <li>Get quotes online</li>
          <li>See reviews from other customers</li>
          <li>No ringing around required</li>

        <h4>
          Let SmartNow take the strain out of your installation
        </h4>
      <!-- end of contact us details card -->

    </div>

    <!-- Prodright: contacts contact us blurb card -->
    <div class="col-md-8 col-sm-12">
     
    <!-- end of prodright -->
    </div>  
  <!-- end of row -->
  </div>

  <!-- locations row -->
  <div class="row">    
    <div class="col"> 
      <ng-container *ngIf="urlTownParameter then blankCase else showCase">
      </ng-container>

      <!-- this template called if urlTownParameter exists -->
      <ng-template #blankCase> 
      </ng-template>

      <!-- this template called if urlTownParameter does not exist -->
      <ng-template #showCase>
        <ng-container *ngIf="urlCountyParameter then showTownsCase else showCountyCase">
        </ng-container>
      </ng-template>
      
      <ng-template #showTownsCase> 
      <mat-accordion>
      <mat-expansion-panel>
            <mat-expansion-panel-header>
      <mat-panel-title>
        <strong>Select Your Nearest Town in {{countyData.countyName}}</strong>
      </mat-panel-title>
            </mat-expansion-panel-header>    
        <div class="card-deck row">
          <div class="card col-lg-3 col-md-4 col-sm-6" *ngFor="let Location of countyData.towns; let index = index">
            <div class="card-block" align="center"> 
              <button mat-raised-button color="primary"
              a [routerLink]="['/oil_tank_installers', urlCountyParameter, Location.townSlug]">{{Location.townName}}</button>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
      </mat-accordion>
      </ng-template>

      <ng-template #showCountyCase> 
      <mat-accordion>
      <mat-expansion-panel>
            <mat-expansion-panel-header>
      <mat-panel-title>
        <strong>Select Your County</strong>
      </mat-panel-title>
            </mat-expansion-panel-header>    
        <div class="card-deck row">
          <div class="card col-lg-3 col-md-4 col-sm-6" *ngFor="let Location of location; let index = index">
            <div class="card-block" align="center"> 
              <button mat-raised-button color="primary"
              a [routerLink]="['/oil_tank_installers', Location.countySlug]">{{Location.countyName}}</button>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
      </mat-accordion>
      </ng-template>

    </div>
  </div>   

<!-- end of content-->
</div>